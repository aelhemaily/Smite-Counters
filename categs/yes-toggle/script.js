const godCategories = {

    antiheal: {
        title: "Gods with Antiheal",
        buttonText: {
            noUlt: "Toggle to gods with ult Antiheal",
            withUlt: "Toggle to gods with normal skill Antiheal"
        },
        customText: {
            title: "Gods with Antiheal",
            sitet: "Gods with Antiheal"
        },
        noUlt: [
            "ah puch", "arachne", "bacchus", "bakasura", "camazotz", "cerberus", "cu chulainn", "martichoras", "medusa", 
            "sobek", 
        ],
        withUlt: [
            "ah puch", "odin", "osiris", "serqet"
        ]
    },


    attackspeed: {
        title: "Gods with Built-in Attack Speed",
        buttonText: {
            noUlt: "Toggle to gods with ult Built-in Attack Speed",
            withUlt: "Toggle to gods with normal Built-in Attack Speed"
        },
        customText: {
            title: "Gods with Built-in Attack Speed",
            sitet: "Gods with Built-in Attack Speed"
        },
        noUlt: [
            "ah muzen cab", "amaterasu", "apollo", "arachne", "artemis", "bakasura", "bake kujira", "charybdis", "chernobog", 
            "cupid", "erlang shen", "fafnir", "fenrir", "hachiman", "ishtar", "izanami", "jing wei", "martichoras", "medusa", 
            "mercury", "mulan", "ne zha", "neith", "nut", "odin", "olorun", "poseidon", "rama", "set", "shiva", "sol", "ullr"
            
        ],
        withUlt: [
            "awilix", "olorun", "raijin", "xbalanque"
        ]
    },

    ccimmunity: {
        title: "Gods with CC Immunity",
        buttonText: {
            noUlt: "Toggle to gods with ult CC Immunity",
            withUlt: "Toggle to gods with normal skill CC Immunity"
        },
        customText: {
            title: "Gods with CC Immunity",
            sitet: "Gods with CC Immunity"
        },
        noUlt: [
            "change", "charybdis", "chiron", "geb", "hel", "ravana", "sol", "xbalanque"
        ],
        withUlt: [
            "achilles", "amaterasu", "maui", "anhur", "anubis", "aphrodite", "apollo", "arachne", "ares", "artemis", 
            "athena", "awilix", "baba yaga", "bakasura", "baron samedi", "bastet", "camazotz", "chaac",
            "charon", "charybdis", "chiron", "chronos", "cthulhu", "cu chulainn", "danzaburou", "discordia",
            "fafnir", "fenrir", "geb", "guan yu", "hachiman", "hades", "he bo", "heimdallr", "hercules", "horus", 
            "hun batz", "ishtar", "ix chel", "janus", "jing wei", "jormungandr", "kumbhakarna", "kuzenbo",
            "lancelot", "loki", "maman brigitte", "martichoras", "maui", "medusa", "mercury", "morgan le fay", "mulan", "ne zha",
            "nox", "nu wa", "nut", "pele", "persephone", "ra", "raijin", "rama", "ratatoskr", "scylla", "serqet",
            "shiva", "sobek", "sol", "sun wukong", "surtr", "sylvanus", "thanatos", "thor", "tsukuyomi", "tyr",
            "vamana", "xing tian", "ymir", "yu huang"
        ]
    },

    cripples: {
        title: "Gods with Cripples",
        buttonText: {
            noUlt: "Toggle to gods with ult cripples",
            withUlt: "Toggle to gods with normal skill cripples"
        },
        customText: {
            title: "Gods with Cripples",
            sitet: "Gods with Cripples"
        },
        noUlt: [
            "ares", "artemis", "artio", "awilix", "cernunnos", "khepri", "king arthur", "kumbhakarna", "maui", "nox", "poseidon", "rama", "scylla"
        ],
        withUlt: [
            "ah muzen cab", "bakasura", "cupid", "ishtar", "lancelot", "loki", "persephone"
        ]
    },

    displacement: {
        title: "Gods with Displacement",
        buttonText: {
            noUlt: "Toggle to gods with ult Displacement",
            withUlt: "Toggle to gods with normal skill Displacement"
        },
        customText: {
            title: "Gods with Displacement",
            sitet: "Gods with Displacement"
        },
        noUlt: [
            "anhur", "atlas", "bake kujira", "geb", "gilgamesh", "hercules", "khepri", "kuzenbo", "maui", "mercury", "mulan",
            "sobek", "tyr"
        ],
        withUlt: [
            "ares", "awilix", "baron samedi", "bastet", "cerberus", "charybdis", "da ji", "fenrir", "maui", "xing tian"
        ]
    },

    dot: {
        title: "Gods with DoT",
        buttonText: {
            noUlt: "Toggle to gods with ult DoT",
            withUlt: "Toggle to gods with normal skill DoT"
        },
        customText: {
            title: "Gods with DoT",
            sitet: "Gods with DoT"
        },
        noUlt: [
            "anhur", "atlas", "bake kujira", "geb", "gilgamesh", "hercules", "khepri", "kuzenbo", "maui", "mercury", "mulan",
            "sobek", "tyr"
        ],
        withUlt: [
            "ares", "awilix", "baron samedi", "bastet", "cerberus", "charybdis", "da ji", "fenrir", "maui", "xing tian"
        ]
    },

    healing: {
        title: "Gods with Healing",
        buttonText: {
            noUlt: "Toggle to gods with Group Healing",
            withUlt: "Toggle to gods with Self-healing"
        },
        customText: {
            title: "Gods with Healing",
            sitet: "Gods with Healing"
        },
        noUlt: [
            "aphrodite", "artio", "baron samedi", "change", "chiron", "cthulhu", "cupid", "eset", "gilgamesh", "fenrir",
            "guan yu", "hades", "hel", "horus", "ix chel", "olorun", "ra", "shiva", "sylvanus", "terra", "yemoja", 
        ],
        withUlt: [
            "achilles", "ah muzen cab", "ah puch", "amaterasu", "anubis", "ao kuang", "arachne", "baba yaga",
             "bacchus", "bakasura", "bastet", "bellona", "camazotz", "cerberus", "cernunnos", "chaac", "cu chulainn",
            "danzaburou", "erlang shen", "fafnir", "freya", "hercules", "kali", "martichoras", "mulan", "ne zha", "neith", "nemesis",
            "pele", "persephone", "ravana", "set", "sobek", "sol", "sun wukong", "surtr", "thanatos", "tiamat", "tsukuyomi", 
            "tyr", "ullr", "vamana", "xing tian", "zhong kui" 
        ]
    },

    knockupimmunity: {
        title: "Gods with Knock-up Immunity",
        buttonText: {
            noUlt: "Toggle to gods with ult Knock-up Immunity",
            withUlt: "Toggle to gods with normal skill Knock-up Immunity"
        },
        customText: {
            title: "Gods with Knock-up Immunity",
            sitet: "Gods with Knock-up Immunity"
        },
        noUlt: [
            "agni", "anubis", "ares", "atlas", "baba yaga", "bacchus", "bake kujira", "change", "charon", "charybdis",
            "chiron", "cliodhna", "da ji", "eset", "fenrir", "ganesha", "geb", "guan yu", "heimdallr", "hel", "hercules",
            "hun batz", "jormungandr", "king arthur", "lancelot", "loki", "nike", "odin", "ravana", "serqet",
            "shiva", "sobek", "sol", "sun wukong", "thor", "tsukuyomi", "tyr", "xbalanque"
        ],
        withUlt:  [
            "achilles", "amaterasu", "maui", "anhur", "anubis", "aphrodite", "apollo", "arachne", "ares", "artemis", 
            "athena", "awilix", "baba yaga", "bakasura", "baron samedi", "bastet", "camazotz", "chaac",
            "charon", "charybdis", "chiron", "chronos", "cthulhu", "cu chulainn", "danzaburou", "discordia",
            "fafnir", "fenrir", "geb", "guan yu", "hachiman", "hades", "he bo", "heimdallr", "hercules", "horus", 
            "hun batz", "ishtar", "ix chel", "janus", "jing wei", "jormungandr", "kali", "kumbhakarna", "kuzenbo",
            "lancelot", "loki", "maman brigitte", "martichoras", "maui", "medusa", "mercury", "morgan le fay", "mulan", "ne zha",
            "nox", "nu wa", "nut", "pele", "persephone", "ra", "raijin", "rama", "ratatoskr", "scylla", "serqet",
            "shiva", "sobek", "sol", "sun wukong", "surtr", "sylvanus", "thanatos", "thor", "tsukuyomi", "tyr",
            "vamana", "xing tian", "ymir", "yu huang", "zhong kui"
        ]
    },

    knockups: {
        title: "Gods with Knock-ups",
        buttonText: {
            noUlt: "Toggle to gods with ult Knock-ups",
            withUlt: "Toggle to gods with normal skill Knock-ups"
        },
        customText: {
            title: "Gods with Knock-ups",
            sitet: "Gods with Knock-ups"
        },
        noUlt: [
            "anhur", "atlas", "awilix", "bacchus", "charybdis", "ganesha", "geb", "gilgamesh", "he bo", 
            "heimdallr", "hercules", "horus", "ix chel", "jing wei", "jormungandr", "mercury", "morgan le fay",
            "nike", "olorun", "pele", "shiva", "sobek", "sun wukong", "tiamat", "tyr", "vamana", "xing tian", "yemoja", "yu huang"
        
        ],
        withUlt: [
            "apollo", "cerberus", "chaac", "cthulhu", "cu chulainn", "hera", "jormungandr", "kumbhakarna", 
            "kuzenbo", "maman brigitte", "maui", "mulan", "nut", "ratatoskr", "sol", "surtr", "susano",
            "sylvanus", "xing tian"
        ]
    },

    leaps: {
        title: "Gods with Leaps",
        buttonText: {
            noUlt: "Toggle to gods with ult leaps",
            withUlt: "Toggle to gods with normal skill leaps"
        },
        customText: {
            title: "Gods with Leaps",
            sitet: "Gods with Leaps"
        },
        noUlt: [
            "anhur", "awilix", "baba yaga", "bacchus", "bakasura", "bastet", "camazotz", "cerberus", 
            "cu chulainn", "discordia", "fafnir", "fenrir", "gilgamesh", "hades", "hou yi", "hun batz", "izanami", "kali",
            "maui", "neith", "nike", "odin", "persephone", "tiamat", "ullr", "xbalanque", "xing tian", "yu huang"
        ],
        withUlt: [
            "apollo", "arachne", "bellona", "camazotz", "chernobog", "freya", "jormungandr", 
            "martichoras", "osiris", "ratatoskr", "ravana", "sun wukong", "surtr", "thanatos", "thor", "tyr"
        ]
    },


    walls: {
        title: "Gods with Walls",
        buttonText: {
            noUlt: "Toggle to gods with ult Walls",
            withUlt: "Toggle to gods with normal skill Walls"
        },
        customText: {
            title: "Gods with Walls",
            sitet: "Gods with Walls"
        },
        noUlt: [
            "anhur", "terra", "thor", "ymir"
            
        ],
        withUlt: [
            "cabrakan", "ganesha", "maui", "odin", "yemoja"
        ]
    },

};

const godList = document.getElementById('god-list');
const toggleButton = document.getElementById('toggleButton');
const sitet = document.getElementById('sitet');

function createGodElement(god) {
    const godElement = document.createElement('div');
    godElement.classList.add('god');
    
    const godLink = document.createElement('a');
    godLink.href = `gods/${god.toLowerCase().replace(/ /g, "_")}/${god.toLowerCase().replace(/ /g, "_")}.html`;
    
    const godImage = document.createElement('img');
    godImage.src = `../../images/${god.replace(/ /g, "")}.png`;
    godImage.alt = god;
    
    const godName = document.createElement('span');
    godName.textContent = god.charAt(0).toUpperCase() + god.slice(1);

    godLink.appendChild(godImage);
    godLink.appendChild(godName);
    godElement.appendChild(godLink);
    
    return godElement;
}

function renderGods(godsToRender) {
    godList.innerHTML = '';
    godsToRender.forEach(god => {
        const godElement = createGodElement(god);
        godList.appendChild(godElement);
    });
}

function getCategoryFromURL() {
    const params = new URLSearchParams(window.location.search);
    return params.get('category') || 'leaps';
}

function toggleGods() {
    const params = new URLSearchParams(window.location.search);
    const currentSub = params.get('sub') || 'noUlt';
    const newSub = currentSub === 'noUlt' ? 'withUlt' : 'noUlt';
    params.set('sub', newSub);
    const newURL = `${window.location.pathname}?category=${getCategoryFromURL()}&sub=${newSub}`;
    window.history.replaceState(null, null, newURL);
    renderGods(godCategories[getCategoryFromURL()][newSub]);
    toggleButton.textContent = godCategories[getCategoryFromURL()].buttonText[newSub];
}

function initPage() {
    const category = getCategoryFromURL();
    const subcategory = (new URLSearchParams(window.location.search)).get('sub') || 'noUlt';
    renderGods(godCategories[category][subcategory]);
    toggleButton.textContent = godCategories[category].buttonText[subcategory];
    sitet.textContent = godCategories[category].customText.sitet || godCategories[category].title;
    document.title = godCategories[category].customText.title || godCategories[category].title;
}

document.addEventListener('DOMContentLoaded', function() {
    initPage();

    toggleButton.addEventListener('click', toggleGods);

    document.getElementById('hamburger-icon').addEventListener('click', function() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('visible');
    });
});

const returnToTopButton = document.getElementById('return-to-top');

// Function to scroll to the top of the page
function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Show or hide the "return to top" button based on scroll position
window.addEventListener('scroll', function() {
    const scrollTop = window.pageYOffset;
    const windowHeight = window.innerHeight;
    const bodyHeight = document.body.offsetHeight;

    if (scrollTop > 5 && scrollTop + windowHeight < bodyHeight - 5) {
        returnToTopButton.classList.remove('hidden');
    } else {
        returnToTopButton.classList.add('hidden');
    }
});

// Scroll to the top when the button is clicked
returnToTopButton.addEventListener('click', scrollToTop);
